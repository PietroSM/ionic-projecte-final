<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="auth/login"></ion-back-button>
    </ion-buttons>    
    <ion-title slot="end">WALLA-REGIS</ion-title>
    <ion-buttons slot="end">
      <ion-img src="assets/images/logo_taronja.svg" class="imatge-top"></ion-img>
    </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-content [fullscreen]="true" class="ion-padding">

  <ion-row class="ion-justify-content-center ion-align-items-center">
    <ion-col size="12" size-md="6" class="ion-text-center">
      
      <form 
        action="#"
        #formRegistre="ngForm"
        (ngSubmit)="afegirUsuari()"
        [formGroup]="newUsuari"
        id="form-registre"
        role="form"
      >
    
        <ion-list>
          <ion-item>
            <ion-input
              name="alies"
              label="Alies"
              labelPlacement="floating"
              type="text"
              id="alies"
              formControlName="alies"
            ></ion-input>
          </ion-item>
    
          <ion-item>
            <ion-input
              name="contrasenya"
              label="Contrasenya"
              labelPlacement="floating"
              type="password"
              id="contrasenya"
              formControlName="contrasenya"
            ></ion-input>
          </ion-item>
    
          <ion-item>
            <ion-input
              name="nom"
              label="Nom"
              labelPlacement="floating"
              type="text"
              id="nom"
              formControlName="nom"
            ></ion-input>
          </ion-item>
    
          <ion-item>
            <ion-input
              name="cognom"
              label="Cognom"
              labelPlacement="floating"
              type="text"
              id="cognom"
              formControlName="cognom"
            ></ion-input>
          </ion-item>
    
          <ion-item>
            <ion-input
              name="correu"
              label="Correu"
              labelPlacement="floating"
              type="email"
              id="correu"
              formControlName="correu"
            ></ion-input>
          </ion-item>
    
          <ion-item>
            <ion-input
              name="lat"
              label="Latitude"
              labelPlacement="floating"
              readonly="true"
              formControlName="lat"
            ></ion-input>
          </ion-item>
    
          <ion-item>
            <ion-input
              name="lng"
              label="Longitude"
              labelPlacement="floating"
              readonly="true"
              formControlName="lng"
            ></ion-input>
          </ion-item>
    
            <ion-button color="secondary" (click)="takePhoto()">
              <ion-icon name="camera" slot="start"></ion-icon>
              CÃ mera
            </ion-button>
            <ion-button color="tertiary" (click)="pickFromGallery()">
              <ion-icon name="images" slot="start"></ion-icon>
              Galeria
            </ion-button>

        </ion-list>
    
        @if (newUsuari.getRawValue().imatge){
          <ion-img [src]="newUsuari.getRawValue().imatge"></ion-img>
        }
    
        <ion-grid>
          <ion-row>
            <ion-col>
              <ion-button
                type="Submit"
                [disabled]="newUsuari.invalid"
              >Registrar-se</ion-button>  
            </ion-col>
    
    
          </ion-row>
        </ion-grid>
    
    
      </form>

    </ion-col>
  
  </ion-row>


</ion-content>
